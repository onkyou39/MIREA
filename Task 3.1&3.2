#include <iostream>
#include <cmath>
#include <iomanip>


using namespace std;

double credit(double S, double p, int n)
{

	double r = p / 100;
	double m = (S * r * pow((1 + r), n)) / (12 * (pow((1 + r), n) - 1));
	return m;
}

double find_procent(double S, double m, int n)
{
	double m1 = 0;
	double p = 0.1;
	double r;
	for (p; m1 < m; p += 0.01)
	{
		r = p / 100;
		m1 = (S * r * pow((1 + r), n)) / (12 * (pow((1 + r), n) - 1));
		if (m1 > m)
		{
			return p;
		}
	}
	return -1;
}

int main()
{
	setlocale(LC_ALL, "Russian");
	double S, p, m;
	int n;

	cout << "Рассчет месячной выплаты." << endl;
	cout << "Введите размер займа: ";
	cin >> S;
	cout << "Введите количество лет: ";
	cin >> n;
	cout << "Введите процент: ";
	cin >> p;
	cout << "\nМесячная выплата равна: " << fixed << setprecision(2) << credit(S, p, n) << endl;


	cout << "\n\n\nРассчет процента" << endl;
	cout << "Введите размер займа: ";
	cin >> S;
	cout << "Введите количество лет: ";
	cin >> n;
	cout << "Введите месячную выплату: ";
	cin >> m;
	cout << "\nСсуда выдана под " << fixed << setprecision(1) << find_procent(S, m, n) << " процентов";
	return 0;
}
